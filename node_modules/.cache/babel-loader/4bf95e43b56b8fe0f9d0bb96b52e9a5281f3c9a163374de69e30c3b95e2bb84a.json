{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{Box,Typography,Paper,Grid,Button,Table,TableHead,TableRow,TableCell,TableBody}from\"@mui/material\";import{API_MSREPARACIONES}from\"../config/api\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function MantenimientoPanel(){const[reparaciones,setReparaciones]=useState([]);const[error,setError]=useState(\"\");const rol=localStorage.getItem(\"rol\");const token=localStorage.getItem(\"token\");useEffect(()=>{if(rol!==\"MANTENIMIENTO\")return;fetch(\"\".concat(API_MSREPARACIONES,\"/api/reparaciones\"),{headers:{Authorization:\"Bearer \".concat(token)}}).then(res=>{if(!res.ok)throw new Error(\"Error al cargar reparaciones\");return res.json();}).then(data=>setReparaciones(data)).catch(err=>setError(err.message));},[rol,token]);if(rol!==\"MANTENIMIENTO\"){return/*#__PURE__*/_jsx(Box,{sx:{p:4},children:/*#__PURE__*/_jsx(Typography,{variant:\"h5\",color:\"error\",children:\"Acceso denegado. Solo personal de mantenimiento puede ver este panel.\"})});}return/*#__PURE__*/_jsxs(Box,{sx:{p:4},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",gutterBottom:true,children:\"Panel de Mantenimiento\"}),error&&/*#__PURE__*/_jsx(Typography,{color:\"error\",children:error}),/*#__PURE__*/_jsxs(Grid,{container:true,spacing:4,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:6,children:/*#__PURE__*/_jsxs(Paper,{sx:{p:3},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",gutterBottom:true,children:\"Reparaciones asignadas\"}),/*#__PURE__*/_jsxs(Table,{children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:\"ID\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Descripci\\xF3n\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Estado\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Ticket\"}),/*#__PURE__*/_jsx(TableCell,{children:\"T\\xE9cnico\"})]})}),/*#__PURE__*/_jsx(TableBody,{children:reparaciones.map(r=>/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:r.id}),/*#__PURE__*/_jsx(TableCell,{children:r.descripcionProblema}),/*#__PURE__*/_jsx(TableCell,{children:r.estado}),/*#__PURE__*/_jsx(TableCell,{children:r.idTicket}),/*#__PURE__*/_jsx(TableCell,{children:r.idTecnico})]},r.id))})]})]})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:6,children:/*#__PURE__*/_jsxs(Paper,{sx:{p:3},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",gutterBottom:true,children:\"Solicitud de materiales\"}),/*#__PURE__*/_jsx(Typography,{color:\"textSecondary\",children:\"Funcionalidad pendiente de integraci\\xF3n con backend.\"})]})})]})]});}export default MantenimientoPanel;","map":{"version":3,"names":["React","useEffect","useState","Box","Typography","Paper","Grid","Button","Table","TableHead","TableRow","TableCell","TableBody","API_MSREPARACIONES","jsx","_jsx","jsxs","_jsxs","MantenimientoPanel","reparaciones","setReparaciones","error","setError","rol","localStorage","getItem","token","fetch","concat","headers","Authorization","then","res","ok","Error","json","data","catch","err","message","sx","p","children","variant","color","gutterBottom","container","spacing","item","xs","md","map","r","id","descripcionProblema","estado","idTicket","idTecnico"],"sources":["C:/Users/User/Downloads/ServicioTecnicoService/tigo-dashboard/src/components/MantenimientoPanel.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { Box, Typography, Paper, Grid, Button, Table, TableHead, TableRow, TableCell, TableBody } from \"@mui/material\";\r\nimport { API_MSREPARACIONES } from \"../config/api\";\r\n\r\nfunction MantenimientoPanel() {\r\n  const [reparaciones, setReparaciones] = useState([]);\r\n  const [error, setError] = useState(\"\");\r\n  const rol = localStorage.getItem(\"rol\");\r\n  const token = localStorage.getItem(\"token\");\r\n\r\n  useEffect(() => {\r\n    if (rol !== \"MANTENIMIENTO\") return;\r\n    fetch(`${API_MSREPARACIONES}/api/reparaciones`, {\r\n      headers: { Authorization: `Bearer ${token}` },\r\n    })\r\n      .then(res => {\r\n        if (!res.ok) throw new Error(\"Error al cargar reparaciones\");\r\n        return res.json();\r\n      })\r\n      .then(data => setReparaciones(data))\r\n      .catch(err => setError(err.message));\r\n  }, [rol, token]);\r\n\r\n  if (rol !== \"MANTENIMIENTO\") {\r\n    return (\r\n      <Box sx={{ p: 4 }}>\r\n        <Typography variant=\"h5\" color=\"error\">Acceso denegado. Solo personal de mantenimiento puede ver este panel.</Typography>\r\n      </Box>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Box sx={{ p: 4 }}>\r\n      <Typography variant=\"h4\" gutterBottom>Panel de Mantenimiento</Typography>\r\n      {error && <Typography color=\"error\">{error}</Typography>}\r\n      <Grid container spacing={4}>\r\n        <Grid item xs={12} md={6}>\r\n          <Paper sx={{ p: 3 }}>\r\n            <Typography variant=\"h6\" gutterBottom>Reparaciones asignadas</Typography>\r\n            <Table>\r\n              <TableHead>\r\n                <TableRow>\r\n                  <TableCell>ID</TableCell>\r\n                  <TableCell>Descripción</TableCell>\r\n                  <TableCell>Estado</TableCell>\r\n                  <TableCell>Ticket</TableCell>\r\n                  <TableCell>Técnico</TableCell>\r\n                </TableRow>\r\n              </TableHead>\r\n              <TableBody>\r\n                {reparaciones.map(r => (\r\n                  <TableRow key={r.id}>\r\n                    <TableCell>{r.id}</TableCell>\r\n                    <TableCell>{r.descripcionProblema}</TableCell>\r\n                    <TableCell>{r.estado}</TableCell>\r\n                    <TableCell>{r.idTicket}</TableCell>\r\n                    <TableCell>{r.idTecnico}</TableCell>\r\n                  </TableRow>\r\n                ))}\r\n              </TableBody>\r\n            </Table>\r\n          </Paper>\r\n        </Grid>\r\n        <Grid item xs={12} md={6}>\r\n          <Paper sx={{ p: 3 }}>\r\n            <Typography variant=\"h6\" gutterBottom>Solicitud de materiales</Typography>\r\n            <Typography color=\"textSecondary\">Funcionalidad pendiente de integración con backend.</Typography>\r\n          </Paper>\r\n        </Grid>\r\n      </Grid>\r\n    </Box>\r\n  );\r\n}\r\n\r\nexport default MantenimientoPanel;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}